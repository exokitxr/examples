{"version":3,"sources":["components/Dom.jsx","components/Console.jsx","components/Engine.jsx","App.js","serviceWorker.js","index.js"],"names":["_decorateKeypaths","el","keypath","arguments","length","undefined","i","childNodes","concat","Dom","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","root","nodeType","tagName","value","attrs","name","state","selectEl","epoch","_this2","window","addEventListener","e","m","data","method","setState","keyCode","document","activeElement","getEl","postMessage","edit","type","_this3","react_default","a","createElement","className","Dom_DomList","onClick","React","Component","DomList","_this4","hoverEl","_this5","Dom_DomItem","level","onMouseEnter","onMouseLeave","DomItem","_this6","domElRef","createRef","open","dropdownOpen","bindDomEl","_this7","current","classNames","push","join","paddingLeft","stopPropagation","url","find","attr","d","toggleDropdownOpen","_this8","_this$props","Node","ELEMENT_NODE","getClassnames","style","getStyle","ref","tabIndex","result","JSON","parse","stringify","_el3Text","cloneTab","deleteTab","map","childNode","key","TEXT_NODE","test","Console","postViewportMessage","consoleWrap","getElementById","consoleOuput","textContent","output","scrollTop","scrollHeight","prevProps","prevState","consoleInput","jsString","id","onKeyDown","nextProps","_postViewportMessage","bcr","getBoundingClientRect","viewport","x","innerWidth","y","innerHeight","width","height","Engine","bind","assertThisInitialized","setFlag","handleURLChange","consoleOpen","flags","item","settings","urlFocus","addTab","action","target","flag","includes","splice","indexOf","postMenuStatus","blur","template","menuItemClassNames","openMenu","menuItemPopupClassNames","class","openSettings","urlPopupClassNames","onMouseDown","preventDefault","open3dTab","open2dTab","onChange","onUrlChange","onFocus","focusUrlInput","onBlur","blurUrlInput","addTabClassNames","openAddTab","menuItemPopupItemsClassNames","addTemplate","toggleConsoleOpen","onXrClick","onFakeXrClick","Engine_Settings","close","onEngineRenderClick","lib","minWidth","onResize","direction","components_Console","maxWidth","components_Dom","Settings","xr","parseInt","_this9","onWidthChange","onMetricsBlur","onHeightChange","checked","onXrChange","App","onContextMenu","components_Engine","Boolean","location","hostname","match","ReactDOM","render","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.acbbee80.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../css/dom.css';\r\n\r\nconst _decorateKeypaths = (el, keypath = []) => {\r\n  el.keypath = keypath;\r\n  for (let i = 0; i < el.childNodes.length; i++) {\r\n    _decorateKeypaths(el.childNodes[i], keypath.concat([i]));\r\n  }\r\n};\r\nconst _el2Text = el => {\r\n  let result = '<' + el.tagName.toLowerCase();\r\n  for (let i = 0; i < el.attrs.length; i++) {\r\n    const attr = el.attrs[i];\r\n    result += ' ' + attr.name + '=' + JSON.stringify(attr.value);\r\n  }\r\n  result += '>';\r\n  return result;\r\n};\r\nconst _el3Text = el => {\r\n  let result = '';\r\n  if (el.tagName === 'IFRAME') {\r\n    for (let i = 0; i < el.attrs.length; i++) {\r\n      const attr = el.attrs[i];\r\n      if (attr.name === 'src'){\r\n        result += '\\n' + JSON.parse(JSON.stringify(attr.value));\r\n      }\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\nclass Dom extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const root = {\r\n      nodeType: 1,\r\n      tagName: 'HTML',\r\n      value: '',\r\n      attrs: [{\r\n        name: 'href',\r\n        value: 'https://',\r\n      }],\r\n      childNodes: [\r\n        {\r\n          nodeType: 1,\r\n          tagName: 'BODY',\r\n          value: '',\r\n          attrs: [{\r\n            name: 'lol',\r\n            value: 'zol',\r\n          }],\r\n          childNodes: [{\r\n            nodeType: 1,\r\n            tagName: 'IFRAME',\r\n            value: '',\r\n            attrs: [{\r\n              name: 'src',\r\n              value: 'http://lol.com/',\r\n            }],\r\n            childNodes: [],\r\n          }],\r\n        },\r\n      ],\r\n    };\r\n    _decorateKeypaths(root);\r\n    this.state = {\r\n      root,\r\n      selectEl: null,\r\n      epoch: 0,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('message', e => {\r\n      const m = e.data;\r\n      if (m.method === 'dom') {\r\n        _decorateKeypaths(m.root);\r\n        this.setState({\r\n          root: m.root,\r\n        });\r\n      }\r\n    });\r\n    window.addEventListener('keydown', e => {\r\n      if (e.keyCode === 46) { // delete\r\n        if (document.activeElement && document.activeElement.getEl) {\r\n          const el = document.activeElement.getEl();\r\n          window.postMessage({\r\n            method: 'edit',\r\n            keypath: el.keypath,\r\n            edit: {\r\n              type: 'remove',\r\n            },\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  onClick(el) {\r\n    if (this.state.selectEl !== el) {\r\n      this.setState({\r\n        selectEl: el,\r\n        epoch: this.state.epoch + 1,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        selectEl: null,\r\n        epoch: this.state.epoch + 1,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Dom\">\r\n        <DomList root={this.state.root} selectEl={this.state.selectEl} onClick={el => this.onClick(el)} />\r\n         {/*this.state.selectEl ? <DomDetail el={this.state.selectEl} epoch={this.state.epoch} /> : null*/}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass DomList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      hoverEl: null,\r\n    };\r\n  }\r\n\r\n  onMouseEnter(el) {\r\n    this.setState({\r\n      hoverEl: el,\r\n    });\r\n  }\r\n\r\n  onMouseLeave(el) {\r\n    if (this.state.hoverEl === el) {\r\n      this.setState({\r\n        hoverEl: null,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ul className=\"dom-list\">\r\n        <DomItem el={this.props.root} level={0} selectEl={this.props.selectEl} hoverEl={this.state.hoverEl} onClick={el => this.props.onClick(el)} onMouseEnter={el => this.onMouseEnter(el)} onMouseLeave={el => this.onMouseLeave(el)}/>\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nclass DomItem extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.domElRef = React.createRef();\r\n\r\n    this.state = {\r\n      open: true,\r\n      dropdownOpen: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.bindDomEl();\r\n  }\r\n  componentDidUpdate() {\r\n    this.bindDomEl();\r\n  }\r\n\r\n  bindDomEl() {\r\n    if (this.domElRef.current) {\r\n      this.domElRef.current.getEl = () => this.props.el;\r\n    }\r\n  }\r\n\r\n  getClassnames() {\r\n    const classNames = ['dom-item'];\r\n    if (this.state.open) {\r\n      classNames.push('open');\r\n    }\r\n    if (this.props.selectEl === this.props.el) {\r\n      classNames.push('select');\r\n    }\r\n    if (this.props.hoverEl === this.props.el) {\r\n      classNames.push('hover');\r\n    }\r\n    return classNames.join(' ');\r\n  }\r\n\r\n  getStyle() {\r\n    return {\r\n      paddingLeft: `${this.props.level * 10}px`,\r\n    };\r\n  }\r\n\r\n  toggleOpen(e) {\r\n    this.setState({\r\n      open: !this.state.open,\r\n    });\r\n\r\n    e.stopPropagation();\r\n  }\r\n\r\n  toggleDropdownOpen(e) {\r\n    this.setState({\r\n      dropdownOpen: !this.state.dropdownOpen,\r\n    });\r\n\r\n  }\r\n\r\n  cloneTab() {\r\n    const {el} = this.props;\r\n    const url = el.attrs.find(attr => attr.name === 'src').value;\r\n\r\n    window.postMessage({\r\n      method: 'open',\r\n      url,\r\n      d: 3,\r\n    });\r\n\r\n    this.toggleDropdownOpen(el);\r\n  }\r\n\r\n  deleteTab() {\r\n    const {el} = this.props;\r\n\r\n    window.postMessage({\r\n      method: 'edit',\r\n      keypath: el.keypath,\r\n      edit: {\r\n        type: 'remove',\r\n      },\r\n    });\r\n\r\n    this.toggleDropdownOpen(el);\r\n  }\r\n\r\n  render() {\r\n    const {el, level} = this.props;\r\n\r\n    if (el.nodeType === Node.ELEMENT_NODE && el.tagName === 'IFRAME') {\r\n      return (\r\n        <li className={this.getClassnames()}>\r\n          <div className=\"dom-item-label\" style={this.getStyle()} onClick={() => this.props.onClick(el)} onMouseEnter={() => this.props.onMouseEnter(el)} onMouseLeave={() => this.props.onMouseLeave(el)} ref={this.domElRef} tabIndex={-1}>\r\n            <div className=\"dom-item-arrow\" onClick={e => this.toggleDropdownOpen(e)}>...</div>\r\n            <div className=\"dom-item-name\"> {_el3Text(el)}</div>\r\n          </div>\r\n          <div className=\"dom-item-dropmenu\">{this.state.dropdownOpen ?\r\n            <div className=\"dom-detail\">\r\n              <div className=\"dom-detail-button\" onClick={() => this.cloneTab()}>Clone</div>\r\n              <div className=\"dom-detail-button\" onClick={() => this.deleteTab()}>Delete</div>\r\n            </div>\r\n             : null}</div>\r\n        </li>\r\n        );\r\n    } else if (el.nodeType === Node.ELEMENT_NODE) {\r\n      return (\r\n        <li className={this.getClassnames()}>\r\n          <div className=\"dom-item-children\">\r\n            {el.childNodes.map((childNode, i) => <DomItem el={childNode} level={level} selectEl={this.props.selectEl} hoverEl={this.props.hoverEl} onClick={el => this.props.onClick(el)} onMouseEnter={this.props.onMouseEnter} onMouseLeave={this.props.onMouseLeave} key={i}/>)}\r\n          </div>\r\n        </li>\r\n      );\r\n    } else if (el.nodeType === Node.TEXT_NODE) {\r\n      if (/\\S/.test(el.value)) { // has non-whitespace\r\n        return (\r\n          <li className={this.getClassnames()} onClick={() => this.props.onClick(el)} onMouseEnter={() => this.props.onMouseEnter(el)} onMouseLeave={() => this.props.onMouseLeave(el)} ref={this.domElRef} tabIndex={-1}>\r\n            <div className=\"dom-item-text\" style={this.getStyle()}></div>\r\n          </li>\r\n        );\r\n      } else {\r\n        return null;\r\n      }\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\n/*\r\nclass DomDetail extends React.Component {\r\n   constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const {el} = this.props;\r\n\r\n    return (\r\n      <div className=\"dom-detail\">\r\n        <div className=\"dom-detail-name\">{el.tagName.toLowerCase()}</div>\r\n        {el.attrs.map(attr => <DomAttribute name={attr.name} value={attr.value} keypath={el.keypath} epoch={this.props.epoch} key={attr.name} />)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass DomAttribute extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      name: props.name,\r\n      value: props.value,\r\n    };\r\n  }\r\n\r\n  UNSAFE_componentWillUpdate(prevProps, prevState) {\r\n    if (this.props.epoch !== prevProps.epoch) {\r\n      const {name, value} = this.props;\r\n      this.setState({\r\n        name,\r\n        value,\r\n      });\r\n    }\r\n  }\r\n\r\n  onKeyDown(e) {\r\n    if (e.code === 13) { // enter\r\n      document.activeElement.blur();\r\n    }\r\n  }\r\n\r\n  onNameChange(e) {\r\n    const name = e.target.value;\r\n    this.setState({\r\n      name,\r\n    });\r\n  }\r\n\r\n  onNameBlur() {\r\n    window.postMessage({\r\n      method: 'edit',\r\n      keypath: this.props.keypath,\r\n      edit: {\r\n        type: 'name',\r\n        oldName: this.props.name,\r\n        oldValue: this.props.value,\r\n        newName: this.state.name,\r\n      },\r\n    });\r\n  }\r\n\r\n  onValueChange(e) {\r\n    const value = e.target.value;\r\n    this.setState({\r\n      value,\r\n    });\r\n  }\r\n\r\n  onValueBlur() {\r\n    window.postMessage({\r\n      method: 'edit',\r\n      keypath: this.props.keypath,\r\n      edit: {\r\n        type: 'value',\r\n        name: this.props.name,\r\n        newValue: this.state.value,\r\n      },\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"dom-attribute\">\r\n        <input type=\"text\" className=\"dom-attribute-name\" value={this.state.name} onKeyDown={e => this.onKeyDown(e)} onChange={e => this.onNameChange(e)} onBlur={e => this.onNameBlur()} />\r\n        <input type=\"text\" className=\"dom-attribute-value\" value={this.state.value} onKeyDown={e => this.onKeyDown(e)} onChange={e => this.onValueChange(e)} onBlur={e => this.onValueBlur()} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n*/\r\n\r\nexport default Dom;\r\n","import React from 'react';\r\nimport '../css/console.css';\r\n\r\nclass Console extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      open: this.props.open,\r\n    };\r\n  }\r\n\r\n  postViewportMessage() {\r\n    this.props.postViewportMessage();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const consoleWrap = document.getElementById('console');\r\n    const consoleOuput = document.getElementById('console-output');\r\n\r\n    window.addEventListener('message', e => {\r\n      const m = e.data;\r\n      if (m.method === 'terminal') {\r\n        if (consoleOuput.textContent) {\r\n          consoleOuput.textContent += '\\n';\r\n        }\r\n        consoleOuput.textContent += m.output;\r\n        consoleWrap.scrollTop = consoleWrap.scrollHeight;\r\n      }\r\n    });\r\n  }\r\n\r\n  shouldComponentUpdate() {\r\n    return true;\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.state.open !== prevState.open) {\r\n      this.setState({\r\n        open: prevState.open,\r\n      });\r\n      this.postViewportMessage();\r\n    }\r\n  }\r\n\r\n  getClassnames() {\r\n    const classNames = ['Console'];\r\n    if (this.state.open) {\r\n      classNames.push('open');\r\n    }\r\n    return classNames.join(' ');\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    return {\r\n      open: nextProps.open,\r\n    };\r\n  }\r\n\r\n  onKeyDown(e) {\r\n    if (e.keyCode === 13) { // enter\r\n      const consoleInput = document.getElementById('console-input');\r\n      const value = consoleInput.value;\r\n      consoleInput.value = '';\r\n\r\n      window.postMessage({\r\n        method: 'eval',\r\n        jsString: value,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.getClassnames()} id=\"console\">\r\n        <div className=\"console-output\" id=\"console-output\" />\r\n        <input type=\"text\" className=\"console-input\" id=\"console-input\" onKeyDown={e => this.onKeyDown(e)} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Console;\r\n","import React from 'react';\r\nimport Resizable from 're-resizable';\r\nimport Dom from './Dom';\r\nimport Console from './Console';\r\nimport '../css/engine.css';\r\n\r\nconst _postViewportMessage = () => {\r\n  const engineRender = document.getElementById('engine-render');\r\n  const bcr = engineRender.getBoundingClientRect();\r\n  const viewport = [bcr.x/window.innerWidth, bcr.y/window.innerHeight, bcr.width/window.innerWidth, bcr.height/window.innerHeight];\r\n  window.postMessage({\r\n    method: 'viewport',\r\n    viewport,\r\n  });\r\n};\r\n\r\nclass Engine extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.postMessage = this.postMessage.bind(this);\r\n      this.setFlag = this.setFlag.bind(this);\r\n      this.handleURLChange = this.handleURLChange.bind(this);\r\n      this.state = {\r\n        consoleOpen: false,\r\n        flags: [],\r\n        item: null,\r\n        settings: null,\r\n        urlFocus: false,\r\n        addTab: 'template',\r\n        url: 'https://aframe.io/a-painter/',\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      _postViewportMessage();\r\n      window.addEventListener('resize', _postViewportMessage);\r\n\r\n      /* window.addEventListener('keydown', e => {\r\n        console.log('iframe keydown ' + e.keyCode);\r\n      });\r\n      window.addEventListener('keyup', e => {\r\n        console.log('iframe keyup ' + e.keyCode);\r\n      });\r\n      window.addEventListener('keypress', e => {\r\n        console.log('iframe keypress ' + e.keyCode);\r\n      }); */\r\n    }\r\n\r\n    postMessage(action){\r\n      window.postMessage({\r\n        action: action,\r\n        flags: this.state.flags,\r\n        url: this.state.url\r\n      });\r\n    }\r\n\r\n    postViewportMessage(){\r\n      _postViewportMessage();\r\n    }\r\n\r\n    handleURLChange(e){\r\n      this.setState({\r\n        url: e.target.value\r\n      });\r\n    }\r\n\r\n    setFlag(e){\r\n      let flag = e.target.value;\r\n      if (!this.state.flags.includes(flag)) {\r\n        this.state.flags.push(flag)\r\n      } else {\r\n        this.state.flags.splice(this.state.flags.indexOf(flag), 1);\r\n      }\r\n    }\r\n\r\n    menuItemClassNames(item) {\r\n      const classNames = ['menu-item'];\r\n      if (item === this.state.item) {\r\n        classNames.push('open');\r\n      }\r\n      return classNames.join(' ');\r\n    }\r\n\r\n    menuItemPopupClassNames(item) {\r\n      const classNames = ['menu-item-popup'];\r\n      if (item === this.state.item) {\r\n        classNames.push('open');\r\n      }\r\n      return classNames.join(' ');\r\n    }\r\n\r\n    addTabClassNames(addTab) {\r\n      const classNames = ['menu-item-popup-tab'];\r\n      if (addTab === this.state.addTab) {\r\n        classNames.push('selected');\r\n      }\r\n      return classNames.join(' ');\r\n    }\r\n\r\n    menuItemPopupItemsClassNames(addTab) {\r\n      const classNames = ['menu-item-popup-items'];\r\n      if (addTab === this.state.addTab) {\r\n        classNames.push('open');\r\n      }\r\n      return classNames.join(' ');\r\n    }\r\n\r\n    urlPopupClassNames() {\r\n      const classNames = ['url-popup'];\r\n      if (this.state.urlFocus) {\r\n        classNames.push('open');\r\n      }\r\n      return classNames.join(' ');\r\n    }\r\n\r\n    openMenu(item) {\r\n      const open = this.state.item !== item;\r\n      this.setState({item: open ? item : null}, () => {\r\n        this.postMenuStatus();\r\n      });\r\n    }\r\n\r\n    openSettings(settings) {\r\n      this.setState({\r\n        item: null,\r\n        settings,\r\n      }, () => {\r\n        this.postMenuStatus();\r\n      });\r\n    }\r\n\r\n    openAddTab(e, addTab) {\r\n      this.setState({\r\n        addTab,\r\n      });\r\n\r\n      e.stopPropagation();\r\n    }\r\n\r\n    onEngineRenderClick() {\r\n      this.blur();\r\n    }\r\n\r\n    focusUrlInput() {\r\n      this.setState({\r\n        item: null,\r\n        urlFocus: true,\r\n      }, () => {\r\n        this.postMenuStatus();\r\n      });\r\n    }\r\n\r\n    blurUrlInput() {\r\n      this.setState({urlFocus: false}, () => {\r\n        this.postMenuStatus();\r\n      });\r\n    }\r\n\r\n    onUrlChange(e) {\r\n      this.setState({\r\n        url: e.target.value,\r\n      });\r\n    }\r\n\r\n    open3dTab() {\r\n      const urlInput = document.getElementById('url-input');\r\n      const url = urlInput.value;\r\n\r\n      window.postMessage({\r\n        method: 'open',\r\n        url,\r\n        d: 3,\r\n      });\r\n\r\n      this.blur();\r\n    }\r\n\r\n    open2dTab() {\r\n      const urlInput = document.getElementById('url-input');\r\n      const url = urlInput.value;\r\n\r\n      window.postMessage({\r\n        method: 'open',\r\n        url,\r\n        d: 2,\r\n      });\r\n\r\n      this.blur();\r\n    }\r\n\r\n    addTemplate(template) {\r\n      window.postMessage({\r\n        method: 'add',\r\n        template,\r\n      });\r\n\r\n      this.blur();\r\n    }\r\n\r\n    onFakeXrClick() {\r\n      window.postMessage({\r\n        method: 'click',\r\n        target: 'fakeXr',\r\n      });\r\n\r\n      this.blur();\r\n    }\r\n\r\n    onXrClick() {\r\n      window.postMessage({\r\n        method: 'click',\r\n        target: 'xr',\r\n      });\r\n    }\r\n\r\n    toggleConsoleOpen(e) {\r\n      this.setState({\r\n        consoleOpen: !this.state.consoleOpen,\r\n      });\r\n    }\r\n\r\n    blur() {\r\n      this.setState({\r\n        item: null,\r\n        settings: null,\r\n        urlFocus: false,\r\n      }, () => {\r\n        this.postMenuStatus();\r\n      });\r\n    }\r\n\r\n    postMenuStatus() {\r\n      window.postMessage({\r\n        method: 'menu',\r\n        open: this.state.item !== null || this.state.settings !== null || this.state.urlFocus,\r\n      });\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div id=\"Engine\">\r\n          <div className=\"row menu\">\r\n            <div className={this.menuItemClassNames('world')}onClick={() => this.openMenu('world')}>\r\n              <div className={this.menuItemPopupClassNames('world')}>\r\n                <div className=\"menu-item-popup-item\">New</div>\r\n                <div className=\"menu-item-popup-item\">Exit</div>\r\n              </div>\r\n              <i class=\"fal fa-cube\"/>\r\n              {/* <div>World</div> */}\r\n            </div>\r\n            <div className={this.menuItemClassNames('settings')}onClick={() => this.openMenu('settings')}>\r\n              <div className={this.menuItemPopupClassNames('settings')}>\r\n                <div className=\"menu-item-popup-item\" onClick={() => this.openSettings('settings')}>Settings...</div>\r\n                <div className=\"menu-item-popup-item\" onClick={() => this.openSettings('sdkPaths')}>SDK Paths...</div>\r\n              </div>\r\n              <i class=\"fal fa-cogs\"/>\r\n              {/* <div>Settings</div> */}\r\n            </div>\r\n            <div className=\"url\">\r\n              <div className={this.urlPopupClassNames()}>\r\n                <div className=\"url-item\" onMouseDown={e => e.preventDefault()} onClick={() => this.open3dTab()}>3D Reality Tab</div>\r\n                <div className=\"url-item\" onMouseDown={e => e.preventDefault()} onClick={() => this.open2dTab()}>2D Reality Tab</div>\r\n              </div>\r\n              <input type=\"text\" className=\"url-input\" id=\"url-input\" value={this.state.url} onChange={e => this.onUrlChange(e)} onFocus={() => this.focusUrlInput()} onBlur={() => this.blurUrlInput()}/>\r\n            </div>\r\n            <div className={this.menuItemClassNames('add')}onClick={() => this.openMenu('add')}>\r\n              <div className={this.menuItemPopupClassNames('add')}>\r\n                <div className=\"menu-item-popup-tabs\">\r\n                  <div className={this.addTabClassNames('template')} onClick={e => this.openAddTab(e, 'template')}>Template</div>\r\n                  <div className={this.addTabClassNames('examples')} onClick={e => this.openAddTab(e, 'examples')}>Examples</div>\r\n                </div>\r\n                <div className={this.menuItemPopupItemsClassNames('template')}>\r\n                  <div className=\"menu-item-popup-item\" onClick={() => this.addTemplate('blank')}>\r\n                    <i className=\"fal fa-file\"></i>\r\n                    <div className=\"label\">Blank layer</div>\r\n                  </div>\r\n                  <div className=\"menu-item-popup-item\" onClick={() => this.addTemplate('aframe')}>\r\n                    <i className=\"fab fa-autoprefixer\"/>\r\n                    <div className=\"label\">A-Frame layer</div>\r\n                  </div>\r\n                  <div className=\"menu-item-popup-item\" onClick={() => this.addTemplate('babylon')}>\r\n                    <i className=\"fab fa-btc\"/>\r\n                    <div className=\"label\">Babylon.js layer</div>\r\n                  </div>\r\n                </div>\r\n                <div className={this.menuItemPopupItemsClassNames('examples')}>\r\n                  <div className=\"menu-item-popup-item\" onClick={() => this.addTemplate('kitchenSink')}>\r\n                    <i class=\"far fa-meteor\"/>\r\n                    <div className=\"label\">Kitchen sink</div>\r\n                  </div>\r\n                  <div className=\"menu-item-popup-item\" onClick={() => this.addTemplate('exobot')}>\r\n                    <i class=\"fal fa-robot\"/>\r\n                    <div className=\"label\">Exobot</div>\r\n                  </div>\r\n                  <div className=\"menu-item-popup-item\" onClick={() => this.addTemplate('meshing')}>\r\n                    <i class=\"fal fa-th\"/>\r\n                    <div className=\"label\">Meshing</div>\r\n                  </div>\r\n                  <div className=\"menu-item-popup-item\" onClick={() => this.addTemplate('planes')}>\r\n                    <i class=\"fal fa-solar-panel\"/>\r\n                    <div className=\"label\">Planes</div>\r\n                  </div>\r\n                  <div className=\"menu-item-popup-item\" onClick={() => this.addTemplate('paint')}>\r\n                    <i class=\"fal fa-paint-brush\"/>\r\n                    <div className=\"label\">Paint</div>\r\n                  </div>\r\n                  <div className=\"menu-item-popup-item\" onClick={() => this.addTemplate('hitTest')}>\r\n                    <i class=\"fal fa-crosshairs\"/>\r\n                    <div className=\"label\">Hit test</div>\r\n                  </div>\r\n                  <div className=\"menu-item-popup-item\" onClick={() => this.addTemplate('hands')}>\r\n                    <i class=\"fal fa-hand-paper\"/>\r\n                    <div className=\"label\">Hand tracking</div>\r\n                  </div>\r\n                  <div className=\"menu-item-popup-item\" onClick={() => this.addTemplate('eyeTracking')}>\r\n                    <i class=\"fal fa-eye\"/>\r\n                    <div className=\"label\">Eye tracking</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <i class=\"fal fa-plus-hexagon\"/>\r\n            </div>\r\n            <div className=\"buttons\">\r\n              <div className=\"button\" onClick={e => this.toggleConsoleOpen(e)}>\r\n                <i class=\"fas fa-terminal\"/>\r\n                <div className=\"label\">Console</div>\r\n              </div>\r\n              <div className=\"button\" onClick={() => this.onXrClick()}>\r\n                <i class=\"fas fa-head-vr\"/>\r\n                <div className=\"label\">Enter XR</div>\r\n              </div>\r\n              <div className=\"button\" onClick={() => this.onFakeXrClick()}>\r\n                <i class=\"fal fa-vr-cardboard\"/>\r\n                <div className=\"label\">Fake XR</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Settings settings={this.state.settings === 'settings'} open={!!this.state.settings} close={() => this.openSettings(null)}/>\r\n          <div className=\"engine-split\">\r\n            <div className=\"engine-left\">\r\n              <div className=\"engine-render\" id=\"engine-render\" onClick={() => this.onEngineRenderClick()} />\r\n              <Resizable\r\n                minWidth=\"200px\"\r\n                // minHeight=\"100px\"\r\n                // maxHeight=\"300px\"\r\n                onResize={(e, direction, ref, d) => {\r\n                  _postViewportMessage();\r\n                }}>\r\n                <Console open={this.state.consoleOpen} postViewportMessage={this.postViewportMessage} />\r\n              </Resizable>\r\n            </div>\r\n            <Resizable\r\n              minWidth=\"200px\"\r\n              maxWidth=\"300px\"\r\n              onResize={(e, direction, ref, d) => {\r\n                _postViewportMessage();\r\n              }}>\r\n            <div className=\"engine-right\">\r\n              <Dom/>\r\n            </div>\r\n            </Resizable>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\nclass Settings extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      width: 1920/2 + '',\r\n      height: 1080 + '',\r\n      xr: 'all',\r\n    };\r\n  }\r\n\r\n  classNames() {\r\n    const classNames = ['settings'];\r\n    if (this.props.open) {\r\n      classNames.push('open');\r\n    }\r\n    return classNames.join(' ');\r\n  }\r\n\r\n  onWidthChange(e) {\r\n    this.setState({\r\n      width: e.target.value,\r\n    });\r\n  }\r\n  onHeightChange(e) {\r\n    this.setState({\r\n      height: e.target.value,\r\n    });\r\n  }\r\n\r\n  onMetricsBlur() {\r\n    let width = parseInt(this.state.width, 10);\r\n    let height = parseInt(this.state.height, 10);\r\n\r\n    if (this.state.width !== (width + '')) {\r\n      width = 1920/2;\r\n\r\n      this.setState({\r\n        width: width + '',\r\n      });\r\n    }\r\n    if (this.state.height !== (height + '')) {\r\n      height = 1080;\r\n\r\n      this.setState({\r\n        height: height + '',\r\n      });\r\n    }\r\n\r\n    window.postMessage({\r\n      method: 'fakeVrMetrics',\r\n      width,\r\n      height,\r\n    });\r\n  }\r\n\r\n  onXrChange(value) {\r\n    this.setState({\r\n      xr: value,\r\n    });\r\n\r\n    window.postMessage({\r\n      method: 'setting',\r\n      key: 'xr',\r\n      value,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.classNames()}>\r\n        <div className=\"settings-background\" onClick={() => this.props.close()}></div>\r\n        <div className=\"settings-foreground\">\r\n          <div className=\"title\">Settings</div>\r\n          <div>\r\n            <label>Width <input type=\"text\" value={this.state.width} onChange={e => this.onWidthChange(e)} onBlur={() => this.onMetricsBlur()} /></label>\r\n            <label>Height <input type=\"text\" value={this.state.height} onChange={e => this.onHeightChange(e)} onBlur={() => this.onMetricsBlur()} /></label>\r\n          </div>\r\n          <div>\r\n            <label><input type=\"radio\" name=\"xr\" value=\"all\" checked={this.state.xr === 'all'} onChange={e => e.target.value ? this.onXrChange('all') : null} /><span>All</span></label>\r\n            <label><input type=\"radio\" name=\"xr\" value=\"webxr\" checked={this.state.xr === 'webxr'} onChange={e => e.target.value ? this.onXrChange('webxr') : null} /><span>WebXR</span></label>\r\n            <label><input type=\"radio\" name=\"xr\" value=\"webvr\" checked={this.state.xr === 'webvr'} onChange={e => e.target.value ? this.onXrChange('webvr') : null} /><span>WebVR</span></label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Engine;\r\n","import React from 'react';\r\nimport './css/App.css';\r\nimport Engine from './components/Engine.jsx'\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\" id=\"app\" onContextMenu={(e) => {e.preventDefault(); return false;}} >\r\n      <Engine/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}